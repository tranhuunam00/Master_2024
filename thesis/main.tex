\documentclass[12pt,a4paper,oneside]{book} % twoside for draf

%\usepackage{babel}
\usepackage[utf8]{vietnam}
%\usepackage{times}
%\usepackage{graphicx}

\usepackage{mathptmx}	% same Time New Roma

%\renewcommand{\rmdefault}{phv} % Arial
%\renewcommand{\sfdefault}{phv} % Arial
% \usepackage[fontsize=13pt]{scrextend}

\usepackage[acronym]{glossaries}

\usepackage{fancyhdr}
% \usepackage[utf8]{inputenc}
\usepackage[vietnamese]{babel}
\usepackage{titlesec}
\usepackage{titletoc}
\usepackage{listings}
\usepackage[bookmarks=true]{hyperref}
\usepackage[left=3cm,right=2cm,top=2.5cm,bottom=3cm]{geometry}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{tikz}
\usepackage{varwidth}
\usepackage{float}
\usepackage{color}
\usepackage{multirow}
\usepackage{booktabs}
\usepackage[linesnumbered,lined,ruled,resetcount, algochapter]{algorithm2e}
\usepackage{svg}
\usepackage{tabularx}
\usepackage{nomencl}
\usepackage{scrfontsizes}
\usepackage{longtable}
\usepackage{multicol}
\usepackage[toc,page]{appendix}
\usepackage{adjustbox}

\usepackage{makecell}
\usepackage{longtable}
\usepackage{multirow}
% \usepackage{algpseudocode}
\usepackage{setting/bkthesis}
\usepackage[toc]{appendix}

\usepackage{amsmath}

\newtheorem{definition}{Định nghĩa}

\newcommand\sbullet[1][.5]{\mathbin{\vcenter{\hbox{\scalebox{#1}{$\bullet$}}}}}

%\counterwithin{figure}{chapter}
\usepackage[
backend=biber,
bibstyle=authoryear,
sorting=none,
citestyle=numeric-comp
]{biblatex}
\usepackage{xpatch}

\makeatletter
\input{numeric.bbx}
\makeatother

\xpatchbibmacro{date+extrayear}{%
  \printtext[parens]%
}{%
  \setunit{\addperiod\space}%
  \printtext%
}{}{}

\usepackage[backend=biber]{biblatex} % ✅ Đúng backend
\addbibresource{refs.bib}      

% \renewcommand\labelitemi{--}

\setlength{\parskip}{6pt}

\usetikzlibrary{calc}
\setlength{\parindent}{10mm}
\renewcommand{\baselinestretch}{1.3}
\graphicspath{{images/}}
\renewcommand{\listalgorithmcfname}{Danh sách thuật toán}
\renewcommand{\nomname}{Danh sách ký hiệu, viết tắt}
\renewcommand\appendixtocname{Phụ lục}

\SetKwRepeat{Do}{do}{while}%

% \algdef{SE}[DOWHILE]{Do}{doWhile}{\algorithmicdo}[1]{\algorithmicwhile\ #1}%
% \usepackage{setting/uetthesis}

%%% The following lines add Chapter or Appendix in front of the number
\titlecontents{chapter}%
[0pt]%
{\vspace{1ex}}%
{\bfseries Chương \thecontentslabel\quad}%
{\bfseries}%
{\bfseries\hfill\contentspage}
%%% Initially, for the main part of the document, set the label to "Chapter"
\let\chapappname\chaptername

% \thesislayout
% hyper setup
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

% setup code area as listings
\lstset{frame=tb,
  language=Java,
  xleftmargin=10pt,xrightmargin=10pt,
%   framesep=2cm,
%   aboveskip=2cm,
%   belowskip=2cm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=left,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=2,
  escapeinside={(*@}{@*)}
}

\hypersetup{
	bookmarks=true,
	pdftitle={Công cụ hỗ trợ kiểm tra sự tuân thủ các quy chuẩn viết mã nguồn Java},
	pdfauthor={Nguyễn Việt Hòa}, % author
	pdfsubject={TeX and LaTeX},
	pdfkeywords={TeX, LaTeX, graphics, images}, % list of keywords
	colorlinks=false,       % false: boxed links; true: colored links
	linkcolor=black,       % color of internal links
	citecolor=black,       % color of links to bibliography
	filecolor=black,        % color of file links
	urlcolor=black,        % color of external links
	linktoc=page            % only page is linked
}

\lstdefinelanguage{JavaScript}{
  morekeywords=[1]{break, continue, delete, else, for, function, if, in,
    new, return, this, typeof, var, void, while, with},
  % Literals, primitive types, and reference types.
  morekeywords=[2]{false, null, true, boolean, number, undefined,
    Array, Boolean, Date, Math, Number, String, Object},
  % Built-ins.
  morekeywords=[3]{eval, parseInt, parseFloat, escape, unescape},
  sensitive,
  morecomment=[s]{/*}{*/},
  morecomment=[l]//,
  morecomment=[s]{/**}{*/}, % JavaDoc style comments
  morestring=[b]',
  morestring=[b]"
}[keywords, comments, strings]  
\lstalias[]{ES6}[ECMAScript2015]{JavaScript}

\renewcommand{\lstlistingname}{Mã nguồn}
\renewcommand\thechapter{\arabic{chapter}}
\renewcommand\thesection{\thechapter.\arabic{section}.}
\renewcommand\thesubsection{\thesection\arabic{subsection}.}
\renewcommand{\thetable}{\thechapter.\arabic{table}}
\renewcommand{\thefigure}{\thechapter.\arabic{figure}}
\renewcommand{\thealgocf}{\thechapter.\arabic{algocf}}


\input{src/glossaries}
\makeglossaries



\begin{document}
\renewcommand{\thelstlisting}{\thechapter.\arabic{lstlisting}}

\renewcommand{\thedefinition}{\thechapter.\arabic{definition}}



% \makeatletter 
% \renewcommand\thealgorithm{\thechapter.\arabic{algorithm}} 
% \makeatother

\pagestyle{plain}
\frontmatter


\input{chapters/0-coverpage}

% \changefontsizes[16pt]{14pt}
% \input{chapters/0.2.start}

\tableofcontents

% \pagestyle{fancy}

\addcontentsline{toc}{chapter}{\listfigurename}
\listoffigures


\listoftables
\addcontentsline{toc}{chapter}{\listtablename}

\printglossaries

% \newpage
% \chapter*{Thuật ngữ}

% \addcontentsline{toc}{chapter}{Thuật ngữ}
% \begin{table}[h!]
%     \centering
%     \begin{adjustbox}{width=1\textwidth}
%     \small
%     \begin{tabular}{|c|c|c|}
%          \hline
%          \textbf{Từ viết tắt} & \textbf{Từ đầy đủ} &\textbf{Ý nghĩa}\\
%          \hline
%         API   & Application Programming Interface & Giao diện lập trình ứng dụng\\
%         \hline
%         AST   & Abstract Syntax Tree & Cây cú pháp trừu tượng\\
%         \hline
%          BDD   & Behaviour Driven Development & Mô hình phát triển phần mềm định hướng hành vi\\
%         \hline
%         CFG   & Control Flow Graph & Đồ thị dòng điều khiển\\
%          \hline
%         CFT   & Control Flow Testing & Kiểm thử dòng điều khiển\\
%          \hline
%         DFT  & Data Flow Testing & Kiểm thử dòng dữ liệu\\
%         \hline
%         HTML   & Hyper Text Markup Language & Ngôn ngữ đánh dấu siêu văn bản\\
%         \hline
%         JSON   & JavaScript Object Notation & Cú pháp lưu trữ và trao đổi dữ liệu\\
%         \hline
%         MC/DC   & Modified Condition/Decision Coverage & Bao phủ quyết định sửa đổi\\
%         \hline
%         OOP   & Object-oriented Programming & Lập trình hướng đối tượng\\
%          \hline
%         SE   & Symbolic Execution & Thực thi tượng trưng\\
%         \hline
%         SMT   & Satisfiability Modulo Theories & Lý thuyết mô-đun thỏa mãn\\
%         \hline
%         TDD   & Test Driven Development & Mô hình phát triển phần mềm định hướng kiểm thử\\
%         \hline
%         XML   & Extensible Markup Language & Ngôn ngữ đánh dấu có thể mở rộng\\
%         \hline
%         \end{tabular}
%     \end{adjustbox}
%     % \caption{Bảng thuật ngữ được sử dụng trong khóa luận}
%     \label{table:1}
% \end{table}

\mainmatter



\changefontsizes[16pt]{13pt}
\chapter*{Đặt vấn đề}
\addcontentsline{toc}{chapter}{Đặt vấn đề}
\thispagestyle{empty}
\input{chapters/1-introduction}

\chapter{Tổng quan về OSA và các thiết bị theo dõi \label{background_section}}
\input{chapters/2-base-knowledge}

% \chapter{Phương pháp kiểm thử tự động hàm Typescript sử dụng kỹ thuật kiểm thử tĩnh luồng điểu khiển }
\chapter{LỰA CHỌN VÀ XÂY DỰNG THIẾT BỊ\label{the_proposed_method_section}}
\input{chapters/3-proposed_solution}

\chapter{KẾT QUẢ THỰC NGHIỆM VÀ ĐÁNH GIÁ}
\input{chapters/4-experiment}

% \chapter{Nghiên cứu liên quan}
% \input{chapters/4.1-related-works}
\chapter{Kết luận}
\input{chapters/5-conclusion}


% \input{chapters/7-reference}

% \bibliographystyle{plain} % ieeetr


% \appendix
% \addcontentsline{toc}{chapter}{Phụ lục A}
% \chapter*{Phụ lục A}
% \input{chapters/8-phuluc}



\newpage
\printbibliography[heading=bibintoc, title=Tài liệu tham khảo]
% \printbibliography[heading=bibintoc, title=Tài liệu tham khảo tiếng Việt,keyword=vietnamese]
% \printbibliography[heading=bibintoc, title=Tài liệu tham khảo tiếng Anh,keyword=english]
% \appendix



\end{document}
